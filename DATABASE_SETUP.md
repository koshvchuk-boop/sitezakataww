# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö MongoDB

## –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–∞—è MongoDB (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### Windows 10/11

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.mongodb.com/try/download/community
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é **Windows (msi)** 
3. –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, –æ—Å—Ç–∞–≤–ª—è—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. MongoDB –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–≤–µ–¥–µ—Ç –≤ Windows Services

#### –ó–∞–ø—É—Å–∫:
```bash
# –í –ª—é–±–æ–º CMD:
net start MongoDB

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
mongo --version
```

#### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
net stop MongoDB
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: MongoDB Atlas (–û–±–ª–∞—á–Ω–∞—è –±–∞–∑–∞ - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)

### –ë—ã—Å—Ç—Ä–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://www.mongodb.com/cloud/atlas
2. –ù–∞–∂–º–∏—Ç–µ **"Start Free"**
3. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (email + –ø–∞—Ä–æ–ª—å)
4. –ù–∞–∂–º–∏—Ç–µ **"Create a Deployment"**
5. –í—ã–±–µ—Ä–∏—Ç–µ **Shared Cluster** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
6. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä Europe / Frankfurt)
7. –ù–∞–∂–º–∏—Ç–µ **"Create"** –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
1. –í Atlas –Ω–∞–∂–º–∏—Ç–µ **"Connect"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Drivers"** ‚Üí **"Node.js"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞:
   ```
   mongodb+srv://username:password@cluster.mongodb.net/myFirstDatabase?retryWrites=true&w=majority
   ```
4. –í—Å—Ç–∞–≤—å—Ç–µ –≤ `server/.env`:
   ```env
   MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/coalition?retryWrites=true&w=majority
   ```

### ‚ö†Ô∏è –í–∞–∂–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ IP –∞–¥—Ä–µ—Å **0.0.0.0/0** –≤ Network Access (Allow Access from Anywhere)

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: Docker (–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker:
1. –°–∫–∞—á–∞–π—Ç–µ **Docker Desktop** —Å https://www.docker.com/products/docker-desktop
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ—Å—å

### –ó–∞–ø—É—Å–∫ MongoDB –≤ Docker:
```bash
docker run -d -p 27017:27017 --name coalition-mongo mongo:latest
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
docker ps
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä coalition-mongo
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –°–ø–æ—Å–æ–± 1: MongoDB Compass (GUI)

1. –°–∫–∞—á–∞–π—Ç–µ https://www.mongodb.com/products/compass
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
3. –û—Ç–∫—Ä–æ–π—Ç–µ ‚Üí **"New Connection"**
4. –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   ```
   mongodb://localhost:27017
   ```
   (–∏–ª–∏ –≤–∞—à–∞ MongoDB Atlas —Å—Ç—Ä–æ–∫–∞)
5. –ù–∞–∂–º–∏—Ç–µ **"Connect"**
6. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –°–ø–æ—Å–æ–± 2: –¢–µ—Ä–º–∏–Ω–∞–ª

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π MongoDB
mongosh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑:
show dbs

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—à–µ–π –±–∞–∑—ã:
use coalition

# –í—Å—Ç–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:
db.users.insertOne({name: "Test User"})

# –ü—Ä–æ–≤–µ—Ä–∫–∞:
db.users.find()
```

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é MongoDB:
```env
# server/.env
MONGODB_URI=mongodb://localhost:27017/coalition
```

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ MongoDB Atlas:
```env
# server/.env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/coalition?retryWrites=true&w=majority
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**
- `username` - –≤–∞—à username
- `password` - –≤–∞—à –ø–∞—Ä–æ–ª—å
- `cluster` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### "connection refused"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω–∞:
# Windows: net start MongoDB
# Mac: brew services start mongodb-community  
# Linux: sudo systemctl start mongod

# Docker: docker start coalition-mongo
```

### "authentication failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ username –∏ password –≤ MongoDB Atlas
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ IP –∞–¥—Ä–µ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω (Network Access)

### "Port 27017 already in use"
```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 27017:
# Windows PowerShell:
netstat -ano | findstr :27017

# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ .env:
MONGODB_URI=mongodb://localhost:27018/coalition
```

---

## üìä –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ |
|-----------|-----------|----------|
| **MongoDB Compass** | GUI –¥–ª—è –ë–î | https://www.mongodb.com/products/compass |
| **mongosh** | –¢–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è –ë–î | –í—Ö–æ–¥–∏—Ç –≤ MongoDB |
| **MongoDB Atlas** | –û–±–ª–∞—á–Ω–∞—è –ë–î | https://www.mongodb.com/cloud/atlas |
| **Studio 3T** | IDE –¥–ª—è MongoDB | https://studio3t.com |

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev` (–≤ –ø–∞–ø–∫–µ `server`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Compass –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç: `npm run dev` (–≤ –ø–∞–ø–∫–µ `client`)
4. –ì–æ—Ç–æ–≤–æ! üéâ

---

## üí° –°–æ–≤–µ—Ç—ã

üîí **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB Atlas
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –í–∫–ª—é—á–∏—Ç–µ IP whitelist
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL/TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ connection pooling
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π—Ç–µ backup

üêõ **–û—Ç–ª–∞–¥–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ MongoDB Compass –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- –í–∫–ª—é—á–∏—Ç–µ debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Mongoose
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ MongoDB –≤ `~/.mongodb/...`

---

**–ì–æ—Ç–æ–≤–æ! –í–∞—à–∞ –ë–î —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ
